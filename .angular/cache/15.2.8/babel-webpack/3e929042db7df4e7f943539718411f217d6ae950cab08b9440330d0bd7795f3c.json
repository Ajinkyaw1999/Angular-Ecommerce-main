{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction CartPageComponent_ng_container_0_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_tr_20_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.deleteitem(item_r4));\n    });\n    i0.ɵɵtext(11, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.images[0], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r4.price, \"\");\n  }\n}\nfunction CartPageComponent_ng_container_0_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"form\", 28)(2, \"div\", 29)(3, \"label\", 30);\n    i0.ɵɵtext(4, \"Email address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 29)(7, \"label\", 32);\n    i0.ɵɵtext(8, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 29)(11, \"label\", 32);\n    i0.ɵɵtext(12, \"Mobile Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 29)(15, \"label\", 35);\n    i0.ɵɵtext(16, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"textarea\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onsubmit());\n    });\n    i0.ɵɵtext(19, \" Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\u00A0 \");\n    i0.ɵɵelementStart(21, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.cancel());\n    });\n    i0.ɵɵtext(22, \" Cancel \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.myform);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.myform.invalid);\n  }\n}\nfunction CartPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13)(4, \"h3\");\n    i0.ɵɵtext(5, \"Cart Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"table\", 14)(7, \"thead\", 15)(8, \"tr\")(9, \"th\", 16);\n    i0.ɵɵtext(10, \"Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 16);\n    i0.ɵɵtext(12, \"Brand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 16);\n    i0.ɵɵtext(14, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 16);\n    i0.ɵɵtext(16, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 16);\n    i0.ɵɵtext(18, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, CartPageComponent_ng_container_0_tr_20_Template, 12, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 18)(22, \"h1\");\n    i0.ɵɵtext(23, \"Total Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"strong\", 19);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵelementStart(29, \"strong\", 20);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 21)(33, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addressform = true);\n    });\n    i0.ɵɵtext(34, \" Checkout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\u00A0 \");\n    i0.ɵɵelementStart(36, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.Empty());\n    });\n    i0.ɵɵtext(37, \" Empty cart \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(38, CartPageComponent_ng_container_0_div_38_Template, 23, 2, \"div\", 24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.showproduct);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"$\", ctx_r0.totalamount, \" + $\", i0.ɵɵpipeBind2(27, 5, ctx_r0.taxamount, \"1.0-0\"), \"(Tax)\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total = $\", i0.ɵɵpipeBind2(31, 8, ctx_r0.finalamount, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.addressform);\n  }\n}\nfunction CartPageComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 39)(2, \"div\", 40);\n    i0.ɵɵelement(3, \"img\", 41);\n    i0.ɵɵelementStart(4, \"h4\");\n    i0.ɵɵtext(5, \"Your Cart is Empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h6\");\n    i0.ɵɵtext(7, \"Please Add Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 42);\n    i0.ɵɵtext(9, \"Shop Now\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class CartPageComponent {\n  constructor(api) {\n    this.api = api;\n    this.showproduct = [];\n    this.totalamount = 0;\n    this.taxamount = 0;\n    this.finalamount = 0;\n    this.addressform = false;\n    this.sentamount = 0;\n  }\n  ngOnInit() {\n    this.api.products().subscribe(res => {\n      this.showproduct = res;\n      this.totalamount = this.api.calculateprice();\n      console.log(\"total amt is\", this.totalamount);\n      // calculation with tax 18 percent\n      this.taxamount = this.totalamount / 100 * 18;\n      console.log(this.taxamount, \"is tax amount\");\n      this.finalamount = this.taxamount + this.totalamount;\n      //Sending final amount to order component\n      this.sentamount = this.finalamount;\n      this.api.sendfinalamount(this.sentamount);\n    });\n    //form\n    this.myform = new FormGroup({\n      email: new FormControl(\"\", Validators.required),\n      name: new FormControl(\"\", Validators.required),\n      mobile: new FormControl(\"\", Validators.required),\n      address: new FormControl(\"\", Validators.required)\n    });\n  }\n  deleteitem(item) {\n    this.api.removecartitem(item);\n  }\n  Empty() {\n    this.api.removeallitems();\n  }\n  cancel() {\n    this.addressform = false;\n    this.myform.reset();\n    localStorage.removeItem(\"ecomdata\");\n  }\n  onsubmit() {\n    this.myform.value;\n    console.log(this.myform.value);\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\n    //this.myform.reset();\n  }\n\n  onlinepay() {\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\n  }\n}\nCartPageComponent.ɵfac = function CartPageComponent_Factory(t) {\n  return new (t || CartPageComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nCartPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartPageComponent,\n  selectors: [[\"app-cart-page\"]],\n  decls: 16,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", \"mt-8\"], [\"role\", \"document\", 1, \"modal-dialog\", 2, \"margin-top\", \"240px\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"data-bs-dismiss\", \"modal\", \"aria-bs-label\", \"btn-Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"text-center\", \"mt-3\"], [\"routerLink\", \"/cardpay\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"routerLink\", \"/order-page\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-dark\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-9\"], [1, \"table\", \"table-borderless\", \"mt-3\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-3\"], [2, \"font-size\", \"20px\", \"color\", \"green\"], [2, \"font-size\", \"25px\", \"color\", \"blue\", \"border\", \"2px solid black\"], [1, \"btn-group\", \"mt-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [2, \"width\", \"120px\", 3, \"src\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"mt-3\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"text\", \"formControlName\", \"name\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Name\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"mobile\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Mobile Number\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\"], [\"id\", \"exampleFormControlTextarea1\", \"formControlName\", \"address\", \"placeholder\", \"Address\", \"rows\", \"3\", 1, \"form-control\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", \"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-2\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"mt-2\", 3, \"click\"], [1, \"card\"], [1, \"center\"], [\"src\", \"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\", 2, \"width\", \"250px\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-dark\"]],\n  template: function CartPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartPageComponent_ng_container_0_Template, 39, 11, \"ng-container\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"strong\", 5);\n      i0.ɵɵtext(6, \"Mode of Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CartPageComponent_Template_button_click_10_listener() {\n        return ctx.onlinepay();\n      });\n      i0.ɵɵtext(11, \" ONLINE PAY\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\u00A0 \");\n      i0.ɵɵelementStart(13, \"button\", 10);\n      i0.ɵɵtext(14, \" CASH \");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(15, CartPageComponent_ng_container_15_Template, 10, 0, \"ng-container\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length != 0);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length == 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i2.DecimalPipe],\n  styles: [\".card[_ngcontent-%COMP%]{\\r\\n    top: 53%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%,-50%);\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    padding: 100px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2NhcnQtcGFnZS9jYXJ0LXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFFBQVE7SUFDUixTQUFTO0lBQ1QsK0JBQStCO0lBQy9CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJke1xyXG4gICAgdG9wOiA1MyU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcGFkZGluZzogMTAwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","CartPageComponent","constructor","api","ngOnInit","products","subscribe","res","showproduct","totalamount","calculateprice","console","log","taxamount","finalamount","sentamount","sendfinalamount","myform","email","required","name","mobile","address","deleteitem","item","removecartitem","Empty","removeallitems","cancel","addressform","reset","localStorage","removeItem","onsubmit","value","setItem","JSON","stringify","onlinepay","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.ts","G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.html"],"sourcesContent":["import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"src/app/Services/api.service\";\r\nimport { product } from \"../product-view/productmodal\";\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\n@Component({\r\n  selector: \"app-cart-page\",\r\n  templateUrl: \"./cart-page.component.html\",\r\n  styleUrls: [\"./cart-page.component.css\"],\r\n})\r\nexport class CartPageComponent implements OnInit {\r\n  showproduct: any = [];\r\n  public totalamount: number = 0;\r\n  public taxamount: number = 0;\r\n  public finalamount: number = 0;\r\n  public addressform = false;\r\n  public sentamount: number = 0;\r\n  myform: FormGroup | any;\r\n  constructor(private api: ApiService) {}\r\n  ngOnInit(): void {\r\n    this.api.products().subscribe((res) => {\r\n      this.showproduct = res;\r\n      this.totalamount = this.api.calculateprice();\r\n      console.log(\"total amt is\", this.totalamount);\r\n      // calculation with tax 18 percent\r\n      this.taxamount = (this.totalamount / 100) * 18;\r\n      console.log(this.taxamount, \"is tax amount\");\r\n\r\n      this.finalamount = this.taxamount + this.totalamount;\r\n      //Sending final amount to order component\r\n      this.sentamount = this.finalamount;\r\n      this.api.sendfinalamount(this.sentamount);\r\n    });\r\n    //form\r\n    this.myform = new FormGroup({\r\n      email: new FormControl(\"\", Validators.required),\r\n      name: new FormControl(\"\", Validators.required),\r\n      mobile: new FormControl(\"\", Validators.required),\r\n      address: new FormControl(\"\", Validators.required),\r\n    });\r\n  }\r\n  deleteitem(item: product) {\r\n    this.api.removecartitem(item);\r\n  }\r\n  Empty() {\r\n    this.api.removeallitems();\r\n  }\r\n  cancel() {\r\n    this.addressform = false;\r\n    this.myform.reset();\r\n    localStorage.removeItem(\"ecomdata\");\r\n  }\r\n  onsubmit() {\r\n    this.myform.value;\r\n    console.log(this.myform.value);\r\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\r\n    //this.myform.reset();\r\n  }\r\n  onlinepay() {\r\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\r\n  }\r\n}\r\n","<ng-container *ngIf=\"showproduct.length != 0\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-9\">\r\n        <h3>Cart Items</h3>\r\n        <table class=\"table table-borderless mt-3\">\r\n          <thead class=\"thead-dark\">\r\n            <tr>\r\n              <th scope=\"col\">Image</th>\r\n              <th scope=\"col\">Brand</th>\r\n              <th scope=\"col\">Category</th>\r\n              <th scope=\"col\">Price</th>\r\n              <th scope=\"col\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let item of showproduct\">\r\n              <td><img style=\"width: 120px\" src=\"{{ item.images[0] }}\" /></td>\r\n              <td>{{ item.title }}</td>\r\n              <td>{{ item.category }}</td>\r\n              <td>${{ item.price }}</td>\r\n              <td>\r\n                <button (click)=\"deleteitem(item)\" class=\"btn btn-danger\">\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <!-- total section-->\r\n      <div class=\"col-sm-3\">\r\n        <h1>Total Amount:</h1>\r\n        <br />\r\n        <strong style=\"font-size: 20px; color: green\"\r\n          >${{ totalamount }} + ${{ taxamount | number : \"1.0-0\" }}(Tax)</strong\r\n        ><br />\r\n        <strong style=\"font-size: 25px; color: blue; border: 2px solid black\"\r\n          >Total = ${{ this.finalamount | number : \"1.0-0\" }}</strong\r\n        >\r\n        <div class=\"btn-group mt-3\">\r\n          <button (click)=\"this.addressform = true\" class=\"btn btn-primary\">\r\n            Checkout</button\r\n          >&nbsp;\r\n          <button (click)=\"Empty()\" class=\"btn btn-secondary\">\r\n            Empty cart\r\n          </button>\r\n        </div>\r\n        <!--- form-->\r\n        <div class=\"mt-3\" *ngIf=\"addressform\">\r\n          <form [formGroup]=\"myform\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">Email address</label>\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                formControlName=\"email\"\r\n                id=\"exampleInputEmail1\"\r\n                aria-describedby=\"emailHelp\"\r\n                placeholder=\"Enter email\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputPassword1\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                formControlName=\"name\"\r\n                id=\"exampleInputPassword1\"\r\n                placeholder=\"Name\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputPassword1\">Mobile Number</label>\r\n              <input\r\n                type=\"number\"\r\n                class=\"form-control\"\r\n                formControlName=\"mobile\"\r\n                id=\"exampleInputPassword1\"\r\n                placeholder=\"Mobile Number\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleFormControlTextarea1\">Address</label>\r\n              <textarea\r\n                class=\"form-control\"\r\n                id=\"exampleFormControlTextarea1\"\r\n                formControlName=\"address\"\r\n                placeholder=\"Address\"\r\n                rows=\"3\"\r\n              ></textarea>\r\n            </div>\r\n            <button\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#exampleModal\"\r\n              type=\"submit\"\r\n              (click)=\"onsubmit()\"\r\n              [disabled]=\"this.myform.invalid\"\r\n              class=\"btn btn-success mt-2\"\r\n            >\r\n              Order</button\r\n            >&nbsp;\r\n            <button type=\"submit\" (click)=\"cancel()\" class=\"btn btn-dark mt-2\">\r\n              Cancel\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <!--form ends-->\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n\r\n<!-- modal-->\r\n<!-- Modal -->\r\n<div\r\n  class=\"modal fade mt-8\"\r\n  id=\"exampleModal\"\r\n  tabindex=\"-1\"\r\n  role=\"dialog\"\r\n  aria-labelledby=\"exampleModalLabel\"\r\n  aria-hidden=\"true\"\r\n>\r\n  <div style=\"margin-top: 240px\" class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <strong class=\"modal-title\" id=\"exampleModalLabel\"\r\n          >Mode of Payment</strong\r\n        >\r\n        <button\r\n          class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\"\r\n          aria-bs-label=\"btn-Close\"\r\n        ></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"text-center mt-3\">\r\n          <button\r\n            (click)=\"onlinepay()\"\r\n            routerLink=\"/cardpay\"\r\n            data-bs-dismiss=\"modal\"\r\n            type=\"button\"\r\n            class=\"btn btn-info\"\r\n          >\r\n            ONLINE PAY</button\r\n          >&nbsp;\r\n          <button\r\n            routerLink=\"/order-page\"\r\n            data-bs-dismiss=\"modal\"\r\n            type=\"button\"\r\n            class=\"btn btn-dark\"\r\n          >\r\n            CASH\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!--Empty cart-->\r\n\r\n<ng-container *ngIf=\"showproduct.length == 0\">\r\n  <div class=\"card\">\r\n    <div class=\"center\">\r\n      <img\r\n        style=\"width: 250px\"\r\n        src=\"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\"\r\n      />\r\n      <h4>Your Cart is Empty</h4>\r\n      <h6>Please Add Item</h6>\r\n      <button routerLink=\"/\" class=\"btn btn-dark\">Shop Now</button>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}