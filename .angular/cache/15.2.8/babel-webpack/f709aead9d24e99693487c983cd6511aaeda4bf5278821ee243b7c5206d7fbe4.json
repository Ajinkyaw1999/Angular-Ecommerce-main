{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction CartPageComponent_ng_container_0_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_tr_20_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.deleteitem(item_r4));\n    });\n    i0.ɵɵtext(11, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.images[0], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r4.price, \"\");\n  }\n}\nfunction CartPageComponent_ng_container_0_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"form\", 20)(2, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_35_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onsubmit());\n    });\n    i0.ɵɵtext(3, \" Order \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_35_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.cancel());\n    });\n    i0.ɵɵtext(5, \" Cancel \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.myform);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.myform.invalid);\n  }\n}\nfunction CartPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"h3\");\n    i0.ɵɵtext(5, \"Your Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"table\", 5)(7, \"thead\", 6)(8, \"tr\")(9, \"th\", 7);\n    i0.ɵɵtext(10, \"Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 7);\n    i0.ɵɵtext(12, \"Brand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 7);\n    i0.ɵɵtext(14, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 7);\n    i0.ɵɵtext(16, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 7);\n    i0.ɵɵtext(18, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, CartPageComponent_ng_container_0_tr_20_Template, 12, 4, \"tr\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 9)(22, \"div\", 10)(23, \"div\", 11)(24, \"h5\", 12);\n    i0.ɵɵtext(25, \"Total Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 13)(27, \"strong\");\n    i0.ɵɵtext(28, \"Total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addressform = true);\n    });\n    i0.ɵɵtext(32, \" Checkout \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.Empty());\n    });\n    i0.ɵɵtext(34, \" Empty Cart \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(35, CartPageComponent_ng_container_0_div_35_Template, 6, 2, \"div\", 16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.showproduct);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" $\", i0.ɵɵpipeBind2(30, 3, ctx_r0.finalamount, \"1.0-0\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.addressform);\n  }\n}\nfunction CartPageComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 23)(2, \"div\", 24);\n    i0.ɵɵelement(3, \"img\", 25);\n    i0.ɵɵelementStart(4, \"h4\", 19);\n    i0.ɵɵtext(5, \"Your Cart is Empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h6\");\n    i0.ɵɵtext(7, \"Please Add Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 26);\n    i0.ɵɵtext(9, \"Shop Now\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class CartPageComponent {\n  constructor(api) {\n    this.api = api;\n    this.showproduct = [];\n    this.totalamount = 0;\n    this.taxamount = 0;\n    this.finalamount = 0;\n    this.addressform = false;\n    this.sentamount = 0;\n  }\n  ngOnInit() {\n    this.api.products().subscribe(res => {\n      this.showproduct = res;\n      this.totalamount = this.api.calculateprice();\n      console.log(\"total amt is\", this.totalamount);\n      // calculation with tax 18 percent\n      this.taxamount = this.totalamount / 100 * 18;\n      console.log(this.taxamount, \"is tax amount\");\n      this.finalamount = this.taxamount + this.totalamount;\n      //Sending final amount to order component\n      this.sentamount = this.finalamount;\n      this.api.sendfinalamount(this.sentamount);\n    });\n    //form\n    this.myform = new FormGroup({\n      email: new FormControl(\"\", Validators.required),\n      name: new FormControl(\"\", Validators.required),\n      mobile: new FormControl(\"\", Validators.required),\n      address: new FormControl(\"\", Validators.required)\n    });\n  }\n  deleteitem(item) {\n    this.api.removecartitem(item);\n  }\n  Empty() {\n    this.api.removeallitems();\n  }\n  cancel() {\n    this.addressform = false;\n    this.myform.reset();\n    localStorage.removeItem(\"ecomdata\");\n  }\n  onsubmit() {\n    this.myform.value;\n    console.log(this.myform.value);\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\n    //this.myform.reset();\n  }\n\n  onlinepay() {\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\n  }\n}\nCartPageComponent.ɵfac = function CartPageComponent_Factory(t) {\n  return new (t || CartPageComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nCartPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartPageComponent,\n  selectors: [[\"app-cart-page\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", \"mt-8\"], [1, \"container-fluid\", \"mt-5\"], [1, \"row\"], [1, \"col-lg-9\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"mt-3\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\"], [1, \"card\", \"mt-4\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", \"btn-block\", \"mt-2\", 3, \"click\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [1, \"img-fluid\", 2, \"max-width\", \"100px\", 3, \"src\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [1, \"mt-3\"], [3, \"formGroup\"], [\"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", \"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-block\", \"mt-3\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"btn-block\", \"mt-2\", 3, \"click\"], [1, \"card\", \"mt-5\"], [1, \"card-body\", \"text-center\"], [\"src\", \"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\", 1, \"img-fluid\", 2, \"width\", \"250px\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-dark\", \"mt-3\"]],\n  template: function CartPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartPageComponent_ng_container_0_Template, 36, 6, \"ng-container\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵtemplate(2, CartPageComponent_ng_container_2_Template, 10, 0, \"ng-container\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length != 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length == 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i2.DecimalPipe],\n  styles: [\".card[_ngcontent-%COMP%]{\\r\\n    top: 53%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%,-50%);\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    padding: 100px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2NhcnQtcGFnZS9jYXJ0LXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFFBQVE7SUFDUixTQUFTO0lBQ1QsK0JBQStCO0lBQy9CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJke1xyXG4gICAgdG9wOiA1MyU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcGFkZGluZzogMTAwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;;;ICcvDC,0BAAqC;IAEjCA,0BAA8E;IAChFA,iBAAK;IACLA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IACMA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAChCA,yBACF;IAAAA,iBAAS;;;;IARwCA,eAA0B;IAA1BA,oEAA0B;IAEzEA,eAAgB;IAAhBA,mCAAgB;IAChBA,eAAmB;IAAnBA,sCAAmB;IACnBA,eAAiB;IAAjBA,6CAAiB;;;;;;IA6B3BA,+BAAsC;IAIoCA;MAAAA;MAAA;MAAA,OAASA,gCAAU;IAAA,EAAC;IAExFA,uBACF;IAAAA,iBAAS;IACTA,kCAA6E;IAAvDA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IACtCA,wBACF;IAAAA,iBAAS;;;;IATLA,eAAoB;IAApBA,yCAAoB;IAItBA,eAAgC;IAAhCA,gDAAgC;;;;;;IAzD9CA,6BAA8C;IAC5CA,8BAAkC;IAIxBA,yBAAS;IAAAA,iBAAK;IAClBA,gCAAqD;IAG/BA,sBAAK;IAAAA,iBAAK;IAC1BA,8BAAgB;IAAAA,sBAAK;IAAAA,iBAAK;IAC1BA,8BAAgB;IAAAA,yBAAQ;IAAAA,iBAAK;IAC7BA,8BAAgB;IAAAA,sBAAK;IAAAA,iBAAK;IAC1BA,8BAAgB;IAAAA,uBAAM;IAAAA,iBAAK;IAG/BA,8BAAO;IACLA,kFAYK;IACPA,iBAAQ;IAKZA,+BAAsB;IAGOA,6BAAY;IAAAA,iBAAK;IACxCA,8BAAqB;IACXA,uBAAM;IAAAA,iBAAS;IAACA,aAC1B;;IAAAA,iBAAI;IACJA,mCAA4E;IAApEA;MAAAA;MAAA;MAAA,4CAA4B,IAAI;IAAA,EAAC;IACvCA,2BACF;IAAAA,iBAAS;IACTA,mCAAmE;IAA3DA;MAAAA;MAAA;MAAA,OAASA,8BAAO;IAAA,EAAC;IACvBA,6BACF;IAAAA,iBAAS;IAKbA,oFAYM;IACRA,iBAAM;IAGZA,0BAAe;;;;IAnDkBA,gBAAc;IAAdA,4CAAc;IAuBTA,eAC1B;IAD0BA,oFAC1B;IAWeA,eAAiB;IAAjBA,yCAAiB;;;;;IAwB5CA,6BAA8C;IAC5CA,+BAAuB;IAEnBA,0BAC0B;IAC1BA,8BAAiB;IAAAA,kCAAkB;IAAAA,iBAAK;IACxCA,0BAAI;IAAAA,gCAAgB;IAAAA,iBAAK;IACzBA,kCAAiD;IAAAA,wBAAQ;IAAAA,iBAAS;IAGxEA,0BAAe;;;AD7Ef,OAAM,MAAOC,iBAAiB;EAQ5BC,YAAoBC,GAAe;IAAf,QAAG,GAAHA,GAAG;IAPvB,gBAAW,GAAQ,EAAE;IACd,gBAAW,GAAW,CAAC;IACvB,cAAS,GAAW,CAAC;IACrB,gBAAW,GAAW,CAAC;IACvB,gBAAW,GAAG,KAAK;IACnB,eAAU,GAAW,CAAC;EAES;EACtCC,QAAQ;IACN,IAAI,CAACD,GAAG,CAACE,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MACpC,IAAI,CAACC,WAAW,GAAGD,GAAG;MACtB,IAAI,CAACE,WAAW,GAAG,IAAI,CAACN,GAAG,CAACO,cAAc,EAAE;MAC5CC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE,IAAI,CAACH,WAAW,CAAC;MAC7C;MACA,IAAI,CAACI,SAAS,GAAI,IAAI,CAACJ,WAAW,GAAG,GAAG,GAAI,EAAE;MAC9CE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,SAAS,EAAE,eAAe,CAAC;MAE5C,IAAI,CAACC,WAAW,GAAG,IAAI,CAACD,SAAS,GAAG,IAAI,CAACJ,WAAW;MACpD;MACA,IAAI,CAACM,UAAU,GAAG,IAAI,CAACD,WAAW;MAClC,IAAI,CAACX,GAAG,CAACa,eAAe,CAAC,IAAI,CAACD,UAAU,CAAC;IAC3C,CAAC,CAAC;IACF;IACA,IAAI,CAACE,MAAM,GAAG,IAAInB,SAAS,CAAC;MAC1BoB,KAAK,EAAE,IAAIrB,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACoB,QAAQ,CAAC;MAC/CC,IAAI,EAAE,IAAIvB,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACoB,QAAQ,CAAC;MAC9CE,MAAM,EAAE,IAAIxB,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACoB,QAAQ,CAAC;MAChDG,OAAO,EAAE,IAAIzB,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACoB,QAAQ;KACjD,CAAC;EACJ;EACAI,UAAU,CAACC,IAAa;IACtB,IAAI,CAACrB,GAAG,CAACsB,cAAc,CAACD,IAAI,CAAC;EAC/B;EACAE,KAAK;IACH,IAAI,CAACvB,GAAG,CAACwB,cAAc,EAAE;EAC3B;EACAC,MAAM;IACJ,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACZ,MAAM,CAACa,KAAK,EAAE;IACnBC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;EACrC;EACAC,QAAQ;IACN,IAAI,CAAChB,MAAM,CAACiB,KAAK;IACjBvB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACK,MAAM,CAACiB,KAAK,CAAC;IAC9BH,YAAY,CAACI,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACpB,MAAM,CAACiB,KAAK,CAACd,IAAI,CAAC,CAAC;IACxE;EACF;;EACAkB,SAAS;IACPP,YAAY,CAACI,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACpB,MAAM,CAACiB,KAAK,CAACd,IAAI,CAAC,CAAC;EAC1E;;AAlDWnB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAsC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT9B3C,qFAoEe;MAGfA,yBAGM;MAENA,qFAUe;;;MAtFAA,kDAA6B;MA4E7BA,eAA6B;MAA7BA,kDAA6B","names":["FormControl","FormGroup","Validators","i0","CartPageComponent","constructor","api","ngOnInit","products","subscribe","res","showproduct","totalamount","calculateprice","console","log","taxamount","finalamount","sentamount","sendfinalamount","myform","email","required","name","mobile","address","deleteitem","item","removecartitem","Empty","removeallitems","cancel","addressform","reset","localStorage","removeItem","onsubmit","value","setItem","JSON","stringify","onlinepay","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.ts","G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\cart-page\\cart-page.component.html"],"sourcesContent":["import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"src/app/Services/api.service\";\r\nimport { product } from \"../product-view/productmodal\";\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\n@Component({\r\n  selector: \"app-cart-page\",\r\n  templateUrl: \"./cart-page.component.html\",\r\n  styleUrls: [\"./cart-page.component.css\"],\r\n})\r\nexport class CartPageComponent implements OnInit {\r\n  showproduct: any = [];\r\n  public totalamount: number = 0;\r\n  public taxamount: number = 0;\r\n  public finalamount: number = 0;\r\n  public addressform = false;\r\n  public sentamount: number = 0;\r\n  myform: FormGroup | any;\r\n  constructor(private api: ApiService) {}\r\n  ngOnInit(): void {\r\n    this.api.products().subscribe((res) => {\r\n      this.showproduct = res;\r\n      this.totalamount = this.api.calculateprice();\r\n      console.log(\"total amt is\", this.totalamount);\r\n      // calculation with tax 18 percent\r\n      this.taxamount = (this.totalamount / 100) * 18;\r\n      console.log(this.taxamount, \"is tax amount\");\r\n\r\n      this.finalamount = this.taxamount + this.totalamount;\r\n      //Sending final amount to order component\r\n      this.sentamount = this.finalamount;\r\n      this.api.sendfinalamount(this.sentamount);\r\n    });\r\n    //form\r\n    this.myform = new FormGroup({\r\n      email: new FormControl(\"\", Validators.required),\r\n      name: new FormControl(\"\", Validators.required),\r\n      mobile: new FormControl(\"\", Validators.required),\r\n      address: new FormControl(\"\", Validators.required),\r\n    });\r\n  }\r\n  deleteitem(item: product) {\r\n    this.api.removecartitem(item);\r\n  }\r\n  Empty() {\r\n    this.api.removeallitems();\r\n  }\r\n  cancel() {\r\n    this.addressform = false;\r\n    this.myform.reset();\r\n    localStorage.removeItem(\"ecomdata\");\r\n  }\r\n  onsubmit() {\r\n    this.myform.value;\r\n    console.log(this.myform.value);\r\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\r\n    //this.myform.reset();\r\n  }\r\n  onlinepay() {\r\n    localStorage.setItem(\"ecomdata\", JSON.stringify(this.myform.value.name));\r\n  }\r\n}\r\n","<ng-container *ngIf=\"showproduct.length != 0\">\r\n  <div class=\"container-fluid mt-5\">\r\n    <div class=\"row\">\r\n      <!-- Cart Items -->\r\n      <div class=\"col-lg-9\">\r\n        <h3>Your Cart</h3>\r\n        <table class=\"table table-bordered table-hover mt-3\">\r\n          <thead class=\"thead-dark\">\r\n            <tr>\r\n              <th scope=\"col\">Image</th>\r\n              <th scope=\"col\">Brand</th>\r\n              <th scope=\"col\">Category</th>\r\n              <th scope=\"col\">Price</th>\r\n              <th scope=\"col\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let item of showproduct\">\r\n              <td>\r\n                <img class=\"img-fluid\" style=\"max-width: 100px;\" src=\"{{ item.images[0] }}\" />\r\n              </td>\r\n              <td>{{ item.title }}</td>\r\n              <td>{{ item.category }}</td>\r\n              <td>${{ item.price }}</td>\r\n              <td>\r\n                <button (click)=\"deleteitem(item)\" class=\"btn btn-danger btn-sm\">\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- Total section -->\r\n      <div class=\"col-lg-3\">\r\n        <div class=\"card mt-4\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Total Amount</h5>\r\n            <p class=\"card-text\">\r\n              <strong>Total:</strong> ${{ this.finalamount | number : \"1.0-0\" }}\r\n            </p>\r\n            <button (click)=\"this.addressform = true\" class=\"btn btn-primary btn-block\">\r\n              Checkout\r\n            </button>\r\n            <button (click)=\"Empty()\" class=\"btn btn-secondary btn-block mt-2\">\r\n              Empty Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Form -->\r\n        <div class=\"mt-3\" *ngIf=\"addressform\">\r\n          <form [formGroup]=\"myform\">\r\n            \r\n\r\n            <button data-toggle=\"modal\" data-target=\"#exampleModal\" type=\"submit\" (click)=\"onsubmit()\"\r\n              [disabled]=\"this.myform.invalid\" class=\"btn btn-success btn-block mt-3\">\r\n              Order\r\n            </button>\r\n            <button type=\"submit\" (click)=\"cancel()\" class=\"btn btn-dark btn-block mt-2\">\r\n              Cancel\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade mt-8\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n  aria-hidden=\"true\">\r\n  <!-- ... -->\r\n</div>\r\n\r\n<ng-container *ngIf=\"showproduct.length == 0\">\r\n  <div class=\"card mt-5\">\r\n    <div class=\"card-body text-center\">\r\n      <img class=\"img-fluid\" src=\"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\"\r\n        style=\"width: 250px;\" />\r\n      <h4 class=\"mt-3\">Your Cart is Empty</h4>\r\n      <h6>Please Add Items</h6>\r\n      <button routerLink=\"/\" class=\"btn btn-dark mt-3\">Shop Now</button>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}