{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../searchbar/searchbar.component\";\nfunction ProductViewComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_div_2_div_1_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.addtocart(item_r4));\n    });\n    i0.ɵɵtext(3, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_div_2_div_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.removeitem(item_r4));\n    });\n    i0.ɵɵtext(5, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", item_r4.name, \" - \", item_r4.price, \" \");\n  }\n}\nfunction ProductViewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductViewComponent_div_2_div_1_Template, 6, 2, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.searchDataproducts);\n  }\n}\nfunction ProductViewComponent_ng_template_3_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_ng_template_3_div_0_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const item_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.addtocart(item_r9));\n    });\n    i0.ɵɵtext(3, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_ng_template_3_div_0_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const item_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.removeitem(item_r9));\n    });\n    i0.ɵɵtext(5, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", item_r9.name, \" - \", item_r9.price, \" \");\n  }\n}\nfunction ProductViewComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductViewComponent_ng_template_3_div_0_Template, 6, 2, \"div\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.data == null ? null : ctx_r2.data.products);\n  }\n}\nexport class ProductViewComponent {\n  constructor(api) {\n    this.api = api;\n  }\n  ngOnInit() {\n    this.displayproducts();\n    localStorage.removeItem(\"ecomdata\");\n  }\n  displayproducts(searchQuery) {\n    if (searchQuery) {\n      this.api.searchProductByName(searchQuery).subscribe(res => {\n        this.searchData = res;\n        console.log(res);\n      });\n    } else {\n      this.api.getproduct().subscribe(res => {\n        this.data = res;\n        console.log(res);\n      });\n    }\n  }\n  addtocart(item) {\n    this.api.addtocart(item);\n  }\n  removeitem(item) {\n    this.api.removecartitem(item);\n  }\n  onSearchChange(query) {\n    this.displayproducts(query);\n  }\n}\nProductViewComponent.ɵfac = function ProductViewComponent_Factory(t) {\n  return new (t || ProductViewComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nProductViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductViewComponent,\n  selectors: [[\"app-product-view\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[3, \"search\"], [4, \"ngIf\", \"ngIfElse\"], [\"productList\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function ProductViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"app-searchbar\", 0);\n      i0.ɵɵlistener(\"search\", function ProductViewComponent_Template_app_searchbar_search_1_listener($event) {\n        return ctx.onSearchChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(2, ProductViewComponent_div_2_Template, 2, 1, \"div\", 1);\n      i0.ɵɵtemplate(3, ProductViewComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchData)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.SearchbarComponent],\n  styles: [\".card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\r\\n    width: 200px;\\r\\n    height: 100px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\nbody[_ngcontent-%COMP%]{\\r\\n    margin: 0;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5385;\\r\\n    color:grey;\\r\\n    text-align: left;\\r\\n   \\r\\n}\\r\\n.card-img-actions[_ngcontent-%COMP%]{\\r\\n    position: relative;\\r\\n}\\r\\na[_ngcontent-%COMP%]{\\r\\n    text-decoration: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L3Byb2R1Y3Qtdmlldy9wcm9kdWN0LXZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixVQUFVO0lBQ1YsZ0JBQWdCOztBQUVwQjtBQUNBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCBpbWd7XHJcbiAgICB3aWR0aDogMjAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5ib2R5e1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjUzODU7XHJcbiAgICBjb2xvcjpncmV5O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgXHJcbn1cclxuLmNhcmQtaW1nLWFjdGlvbnN7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuYXtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAUEA,2BAA6C;IAC3CA,YACA;IAAAA,iCAAkC;IAA1BA;MAAA;MAAA;MAAA;MAAA,OAASA,wCAAe;IAAA,EAAC;IAACA,2BAAW;IAAAA,iBAAS;IACtDA,iCAAmC;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAFlDA,eACA;IADAA,mEACA;;;;;IAJJA,2BAA0C;IAExCA,2EAIM;IACRA,iBAAM;;;;IALkBA,eAAqB;IAArBA,mDAAqB;;;;;;IAS3CA,2BAAyC;IACvCA,YACA;IAAAA,iCAAkC;IAA1BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAe;IAAA,EAAC;IAACA,2BAAW;IAAAA,iBAAS;IACtDA,iCAAmC;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAgB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAFlDA,eACA;IADAA,mEACA;;;;;IAFFA,mFAIM;;;;IAJgBA,2EAAiB;;;ACVzC,OAAM,MAAOC,oBAAoB;EAI/BC,YAAoBC,GAAe;IAAf,QAAG,GAAHA,GAAG;EAAe;EACtCC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;IACtBC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;EACrC;EACAF,eAAe,CAACG,WAAoB;IAClC,IAAIA,WAAW,EAAE;MACf,IAAI,CAACL,GAAG,CAACM,mBAAmB,CAACD,WAAW,CAAC,CAACE,SAAS,CAAEC,GAAG,IAAI;QAC1D,IAAI,CAACC,UAAU,GAAGD,GAAG;QACrBE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAClB,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAACR,GAAG,CAACY,UAAU,EAAE,CAACL,SAAS,CAAEC,GAAG,IAAI;QACtC,IAAI,CAACK,IAAI,GAAGL,GAAG;QACfE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAClB,CAAC,CAAC;;EAEN;EAEAM,SAAS,CAACC,IAAa;IACrB,IAAI,CAACf,GAAG,CAACc,SAAS,CAACC,IAAI,CAAC;EAC1B;EAEAC,UAAU,CAACD,IAAa;IACtB,IAAI,CAACf,GAAG,CAACiB,cAAc,CAACF,IAAI,CAAC;EAC/B;EAEAG,cAAc,CAACC,KAAa;IAC1B,IAAI,CAACjB,eAAe,CAACiB,KAAK,CAAC;EAC7B;;AAjCWrB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDLjC3B,2BAAK;MACYA;QAAA,OAAU4B,0BAAsB;MAAA,EAAC;MAAC5B,iBAAgB;MAGnEA,qEAOM;MAENA,sHAOc;;;;MAhBRA,eAAkB;MAAlBA,qCAAkB","names":["i0","ProductViewComponent","constructor","api","ngOnInit","displayproducts","localStorage","removeItem","searchQuery","searchProductByName","subscribe","res","searchData","console","log","getproduct","data","addtocart","item","removeitem","removecartitem","onSearchChange","query","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\product-view\\product-view.component.html","G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\product-view\\product-view.component.ts"],"sourcesContent":["<!-- product-view.component.html -->\r\n\r\n<!-- product-view.component.html -->\r\n\r\n<div>\r\n  <app-searchbar (search)=\"onSearchChange($event)\"></app-searchbar>\r\n</div>\r\n\r\n<div *ngIf=\"searchData; else productList\">\r\n  <!-- Display search results -->\r\n  <div *ngFor=\"let item of searchDataproducts\">\r\n    {{ item.name }} - {{ item.price }}\r\n    <button (click)=\"addtocart(item)\">Add to Cart</button>\r\n    <button (click)=\"removeitem(item)\">Remove</button>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #productList>\r\n  <!-- Display entire product list -->\r\n  <div *ngFor=\"let item of data?.products\">\r\n    {{ item.name }} - {{ item.price }}\r\n    <button (click)=\"addtocart(item)\">Add to Cart</button>\r\n    <button (click)=\"removeitem(item)\">Remove</button>\r\n  </div>\r\n</ng-template>\r\n\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"src/app/Services/api.service\";\r\nimport { product } from \"./productmodal\";\r\n\r\n@Component({\r\n  selector: \"app-product-view\",\r\n  templateUrl: \"./product-view.component.html\",\r\n  styleUrls: [\"./product-view.component.css\"],\r\n})\r\nexport class ProductViewComponent implements OnInit {\r\n  data: any | product[];\r\n  item: any;\r\n  searchData: any | product[];\r\n  constructor(private api: ApiService) {}\r\n  ngOnInit(): void {\r\n    this.displayproducts();\r\n    localStorage.removeItem(\"ecomdata\");\r\n  }\r\n  displayproducts(searchQuery?: string) {\r\n    if (searchQuery) {\r\n      this.api.searchProductByName(searchQuery).subscribe((res) => {\r\n        this.searchData = res;\r\n        console.log(res);\r\n      });\r\n    } else {\r\n      this.api.getproduct().subscribe((res) => {\r\n        this.data = res;\r\n        console.log(res);\r\n      });\r\n    }\r\n  }\r\n  \r\n  addtocart(item: product) {\r\n    this.api.addtocart(item);\r\n  }\r\n\r\n  removeitem(item: product) {\r\n    this.api.removecartitem(item);\r\n  }\r\n\r\n  onSearchChange(query: string) {\r\n    this.displayproducts(query);\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}