{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/api.service\";\nimport * as i2 from \"src/app/Services/category.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../baner/baner.component\";\nimport * as i7 from \"../searchbar/searchbar.component\";\nfunction ProductViewComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7)(3, \"div\", 16);\n    i0.ɵɵelement(4, \"img\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 18)(6, \"div\")(7, \"h6\", 19)(8, \"a\", 20);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"slice\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"h3\", 21);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 22);\n    i0.ɵɵelement(14, \"i\", 23);\n    i0.ɵɵtext(15, \"\\u00A0\\u00A0View Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_div_5_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addtocart(item_r2));\n    });\n    i0.ɵɵelement(17, \"i\", 25);\n    i0.ɵɵtext(18, \"\\u00A0Add to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ProductViewComponent_div_5_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.removeitem(item_r2));\n    });\n    i0.ɵɵelement(20, \"i\", 27);\n    i0.ɵɵtext(21, \"\\u00A0Remove Item \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/product-detail/\", item_r2.id, \"\");\n    i0.ɵɵpropertyInterpolate(\"src\", item_r2.thumbnail, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(10, 5, item_r2.title, 0, 18));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"$ \", item_r2.price, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/product-detail/\", item_r2.id, \"\");\n  }\n}\nexport class ProductViewComponent {\n  constructor(api, categoryService) {\n    this.api = api;\n    this.categoryService = categoryService;\n  }\n  ngOnInit() {\n    this.displayproducts();\n    this.subscribeToCategoryChanges();\n    localStorage.removeItem(\"ecomdata\");\n  }\n  displayproducts() {\n    this.api.getproduct().subscribe(res => {\n      this.data = res;\n      console.log(res);\n    });\n  }\n  addtocart(item) {\n    this.api.addtocart(item);\n  }\n  removeitem(item) {\n    this.api.removecartitem(item);\n  }\n  searchProducts(keyword) {\n    if (keyword.trim() !== '') {\n      this.api.searchProduct(keyword).subscribe(res => {\n        this.data = res;\n      });\n    } else {\n      // If the search bar is empty, display all products\n      this.displayproducts();\n    }\n  }\n  subscribeToCategoryChanges() {\n    this.categoryService.currentCategory.subscribe(category => {\n      if (category !== 'all') {\n        this.displayProductsByCategory(category);\n      } else {\n        this.displayproducts();\n      }\n    });\n  }\n  // Other methods...\n  displayProductsByCategory(category) {\n    this.api.getProductsByCategory(category).subscribe(res => {\n      this.data = res;\n    });\n  }\n  addNewProduct(newProduct) {\n    this.api.addProduct(newProduct).subscribe(res => {\n      // Handle the response or update the product list accordingly\n      console.log(\"Product added successfully\", res);\n      // Optionally, you can fetch the updated product list after adding\n      this.displayproducts();\n    });\n  }\n}\nProductViewComponent.ɵfac = function ProductViewComponent_Factory(t) {\n  return new (t || ProductViewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.CategoryService));\n};\nProductViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductViewComponent,\n  selectors: [[\"app-product-view\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[1, \"container-fluid\", 2, \"background-color\", \"#ecf0f1\"], [1, \"d-flex\", \"justify-content-center\", \"mt-3\"], [3, \"search\"], [1, \"row\"], [\"class\", \"col-md-3 mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", \"mt-3\"], [1, \"card\", \"mt-2\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"newProductForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"card-img-actions\"], [1, \"card-img\", \"img-fluid\", 3, \"routerLink\", \"src\"], [1, \"card-body\", \"bg-light\", \"text-center\"], [1, \"font-weight-semibold\"], [1, \"text-default\", 2, \"font-size\", \"13px\"], [1, \"mb-0\", \"font-weight-semibold\"], [1, \"btn\", \"btn-sm\", \"btn-dark\", \"mt-2\", 3, \"routerLink\"], [1, \"fa\", \"fa-solid\", \"fa-info\", \"mr-2\"], [1, \"btn\", \"btn-sm\", \"btn-warning\", \"mt-2\", 3, \"click\"], [1, \"fa\", \"fa-cart-plus\", \"mr-2\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", \"mt-2\", 3, \"click\"], [1, \"fa\", \"fa-remove\", \"mr-2\"]],\n  template: function ProductViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"app-searchbar\", 2);\n      i0.ɵɵlistener(\"search\", function ProductViewComponent_Template_app_searchbar_search_2_listener($event) {\n        return ctx.searchProducts($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(3, \"app-baner\");\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, ProductViewComponent_div_5_Template, 22, 9, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"form\", 8, 9);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductViewComponent_Template_form_ngSubmit_9_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r1 = i0.ɵɵreference(10);\n        return i0.ɵɵresetView(ctx.addNewProduct(_r1.value));\n      });\n      i0.ɵɵelementStart(11, \"div\", 10)(12, \"label\", 11);\n      i0.ɵɵtext(13, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"label\", 13);\n      i0.ɵɵtext(17, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 15);\n      i0.ɵɵtext(20, \"Add Product\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data == null ? null : ctx.data.products);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.BanerComponent, i7.SearchbarComponent, i3.SlicePipe],\n  styles: [\".card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\r\\n    width: 200px;\\r\\n    height: 100px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\nbody[_ngcontent-%COMP%]{\\r\\n    margin: 0;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5385;\\r\\n    color:grey;\\r\\n    text-align: left;\\r\\n   \\r\\n}\\r\\n.card-img-actions[_ngcontent-%COMP%]{\\r\\n    position: relative;\\r\\n}\\r\\na[_ngcontent-%COMP%]{\\r\\n    text-decoration: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L3Byb2R1Y3Qtdmlldy9wcm9kdWN0LXZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixVQUFVO0lBQ1YsZ0JBQWdCOztBQUVwQjtBQUNBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCBpbWd7XHJcbiAgICB3aWR0aDogMjAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5ib2R5e1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjUzODU7XHJcbiAgICBjb2xvcjpncmV5O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgXHJcbn1cclxuLmNhcmQtaW1nLWFjdGlvbnN7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuYXtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductViewComponent","constructor","api","categoryService","ngOnInit","displayproducts","subscribeToCategoryChanges","localStorage","removeItem","getproduct","subscribe","res","data","console","log","addtocart","item","removeitem","removecartitem","searchProducts","keyword","trim","searchProduct","currentCategory","category","displayProductsByCategory","getProductsByCategory","addNewProduct","newProduct","addProduct","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\product-view\\product-view.component.html","G:\\Sarohi sprint 1\\Angular Application\\Angular-Ecommerce-main\\src\\app\\component\\product-view\\product-view.component.ts"],"sourcesContent":["<!-- //product-view.component.html -->\r\n<div class=\"container-fluid\" style=\"background-color: #ecf0f1;\">\r\n  <div class=\"d-flex justify-content-center mt-3\">\r\n    <app-searchbar (search)=\"searchProducts($event)\"></app-searchbar> \r\n  </div>\r\n  <app-baner></app-baner>\r\n  \r\n  <div class=\"row\">\r\n    <div class=\"col-md-3 mt-3\" *ngFor=\"let item of data?.products\">\r\n      <div class=\"card mt-2\">\r\n        <div class=\"card-body\">\r\n          <div class=\"card-img-actions\">\r\n            <img routerLink=\"/product-detail/{{ item.id }}\" src=\"{{ item.thumbnail }}\" class=\"card-img img-fluid\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card-body bg-light text-center\">\r\n          <div>\r\n            <h6 class=\"font-weight-semibold\">\r\n              <a style=\"font-size: 13px\" class=\"text-default\">{{ item.title | slice : 0 : 18 }}</a>\r\n            </h6>\r\n          </div>\r\n          <h3 class=\"mb-0 font-weight-semibold\">$ {{ item.price }}</h3>\r\n          <button routerLink=\"/product-detail/{{ item.id }}\" class=\"btn btn-sm btn-dark mt-2\">\r\n            <i class=\"fa fa-solid fa-info mr-2\"></i>&nbsp;&nbsp;View Details\r\n          </button>\r\n          <button (click)=\"addtocart(item)\" class=\"btn btn-sm btn-warning mt-2\">\r\n            <i class=\"fa fa-cart-plus mr-2\"></i>&nbsp;Add to Cart\r\n          </button>\r\n          <button (click)=\"removeitem(item)\" class=\"btn btn-sm btn-danger mt-2\">\r\n            <i class=\"fa fa-remove mr-2\"></i>&nbsp;Remove Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n    <div class=\"col-md-3 mt-3\">\r\n    <div class=\"card mt-2\">\r\n      <div class=\"card-body\">\r\n        <form (ngSubmit)=\"addNewProduct(newProductForm.value)\" #newProductForm=\"ngForm\">\r\n          <div class=\"form-group\">\r\n            <label for=\"title\">Title</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" ngModel required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"price\">Price</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"price\" name=\"price\" ngModel required>\r\n          </div>\r\n          <!-- Add more fields as needed -->\r\n\r\n          <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n","//Product-View.Component.ts\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"src/app/Services/api.service\";\r\nimport { CategoryService } from \"src/app/Services/category.service\";\r\nimport { product } from \"./productmodal\";\r\n\r\n@Component({\r\n  selector: \"app-product-view\",\r\n  templateUrl: \"./product-view.component.html\",\r\n  styleUrls: [\"./product-view.component.css\"],\r\n})\r\nexport class ProductViewComponent implements OnInit {\r\n  data: any | product[];\r\n  item: any;\r\n  constructor(private api: ApiService, private categoryService: CategoryService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.displayproducts();\r\n    this.subscribeToCategoryChanges();\r\n    localStorage.removeItem(\"ecomdata\");\r\n  }\r\n  displayproducts() {\r\n    this.api.getproduct().subscribe((res) => {\r\n      this.data = res;\r\n      console.log(res);\r\n    });\r\n  }\r\n  addtocart(item: product) {\r\n    this.api.addtocart(item);\r\n  }\r\n\r\n  removeitem(item: product) {\r\n    this.api.removecartitem(item);\r\n  }\r\n\r\n   searchProducts(keyword: string) {\r\n    if (keyword.trim() !== '') {\r\n      this.api.searchProduct(keyword).subscribe((res) => {\r\n        this.data = res;\r\n      });\r\n    } else {\r\n      // If the search bar is empty, display all products\r\n      this.displayproducts();\r\n    }\r\n  }\r\n\r\n  subscribeToCategoryChanges() {\r\n    this.categoryService.currentCategory.subscribe((category) => {\r\n      if (category !== 'all') {\r\n        this.displayProductsByCategory(category);\r\n      } else {\r\n        this.displayproducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  // Other methods...\r\n\r\n  displayProductsByCategory(category: string) {\r\n    this.api.getProductsByCategory(category).subscribe((res) => {\r\n      this.data = res;\r\n    });\r\n  }\r\n\r\n  addNewProduct(newProduct: any) {\r\n    this.api.addProduct(newProduct).subscribe((res) => {\r\n      // Handle the response or update the product list accordingly\r\n      console.log(\"Product added successfully\", res);\r\n      // Optionally, you can fetch the updated product list after adding\r\n      this.displayproducts();\r\n    });\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}